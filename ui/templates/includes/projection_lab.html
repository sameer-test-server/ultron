{% set projection_defaults = projection_defaults if projection_defaults is defined else {'amount': 2000.0, 'horizons': [1, 5, 20], 'custom_horizon_days': 10} %}
<div class="projection-lab" data-projection-url="{{ url_for('projection_api', ticker=stock.ticker) }}">
    <p class="text-body-secondary mb-4">
        Enter an investment amount and estimate its future value over various time horizons based on historical volatility and drift. Ultron also provides backtested "reality-check" metrics to gauge the estimator's historical accuracy.
    </p>
    <div class="row g-3">
        <div class="col-md-3"><label for="projectionAmount" class="form-label form-label-sm">Investment (INR)</label><input id="projectionAmount" type="number" class="form-control form-control-sm" min="100" step="100" value="{{ '%.2f'|format(projection_defaults.amount) }}"></div>
        <div class="col-md-6">
            <label class="form-label form-label-sm">Standard Horizons</label>
            <div class="d-flex">
                <div class="form-check me-3"><input type="checkbox" class="form-check-input projection-horizon" value="1" checked><label class="form-check-label small">1 Day</label></div>
                <div class="form-check me-3"><input type="checkbox" class="form-check-input projection-horizon" value="5" checked><label class="form-check-label small">5 Days</label></div>
                <div class="form-check me-3"><input type="checkbox" class="form-check-input projection-horizon" value="20" checked><label class="form-check-label small">20 Days</label></div>
            </div>
        </div>
        <div class="col-md-3"><label for="projectionCustomHorizon" class="form-label form-label-sm">Custom Horizon (days)</label><input id="projectionCustomHorizon" type="number" class="form-control form-control-sm" min="0" max="90" step="1" value="{{ projection_defaults.custom_horizon_days }}"></div>
    </div>
    <div class="d-grid col-md-3 mt-3">
        <button id="projectionRunBtn" type="button" class="btn btn-primary btn-sm">Calculate Projection</button>
    </div>
    <p id="projectionStatus" class="text-body-secondary small font-monospace mt-3">Ready.</p>
    <div id="projectionCards" class="row g-3 mt-3"></div>
    <p id="projectionMethod" class="text-body-secondary small mt-3"></p>
</div>
